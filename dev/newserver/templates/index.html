{% extends "base.html" %}

{% block body %}
<div id="browseralert">
  Please log in using a laptop or a desktop computer for the best Immersion experience.
  <br>
  Thanks!
</div>
<div id="buttondisablealert" style="display:none;">
  The button is disabled for now as we are awaiting approval from google as per updated oauth guidelines. The process may take another two weeks.
  <br>
  <br>
  Thank you for your patience!
</div>
 <div id="landing_tagline_box">
    <div id="tagline">WE ARE NO LONGER SUPPORTING IMMERSION. IF YOU ARE INTERESTED IN EXPLORING YOUR EMAIL METADATA, PLEASE TRY <a href="https://openteams.info"> OPENTEAMS </a></div>
  </div>
<div id="box">
  <div style="margin: 0 auto 0 auto; width: 350px;">
      <a id="login_handler1" style="text-decoration: none;">
        <div id="landing_circle">immersion</div>
      </a>
  </div>
  <div id="landing_tagline_box">
    <div id="tagline">a people-centric view of your email life</div>
  </div>
  <div id="landing_privacy">
    <div class="privacy_pillar">
      <div class="pillar_point">Once you log in, Immersion will use only the From, To, Cc and Timestamp fields of the emails in the account you are signing in with. It will not access the subject or the body content of any of your emails.
      </div>
      </br>
      <div class="pillar_point">Upon logging out of Immersion, you will be presented with a choice to save or delete your data, which contains your compressed email metadata and user profile.</div>
    </div>
    <div class="privacy_pillar">
      <div class="pillar_point">If you decide to save your email metadata with Immersion, that data will be stored in a secure system. You can always return to the site remotely and delete it at a later time, if you wish to do so.</div></br>
      <div class="pillar_point">If you take a snapshot of your Immersion network, the snapshot link will be accessible for 30 days, after which it will be deleted from our server.</div><br>
      <div class="pillar_point" style="border-left:none; padding-left: 14px;"><a id="faqs" href="#faqs">Frequently Asked Questions</a></div>
    </div>
    <div class="privacy_pillar">
      <!-- <div class="pillar_point">Immersion currently supports only Gmail accounts, and login is done <b>securely</b> using OAuth via Gmail, without revealing your password to Immersion.</div><br/> -->
      <div id="yahoo_loginform" class="form" style="display:none;border-left: 5px solid black;padding-left:5px;margin-bottom:10px">
        <form action="/authyahoo" method="post" onsubmit="return validateForm(this)">
          <table>
            <tr>
              <td>Email:</td>
              <td><input type="text" name="email" value="{{form_email}}"></td>
            </tr>
            <tr>
              <td>Password:</td>
              <td><input type="password" name="password"></td>
            </tr>
            <tr>
              <td><input type="submit" value="Login"></td>
              <td class="invalid_input_msg" style="color:red; display:none;">Invalid email/password</td>
            </tr>
          </table>
        </form>
      </div>

      <div id="ews_loginform" class="form" style="display:none;border-left: 5px solid black;padding-left:5px;margin-bottom:10px">
        <form action="/authews" method="post" onsubmit="return validateForm(this)">
          <table>
            <tr>
              <td colspan="2" style="font-weight:bold;font-size:12px;color:DarkRed;">Use this if your organization's email is running on Microsoft Exchange Server. @hotmail.com, @live.com and @outlook.com are not supported at the moment.</td>
            </tr>
            <tr>
              <td>Email:</td>
              <td><input type="text" name="email" value="{{form_email}}"></td>
            </tr>
            <tr>
              <td>Username:</td>
              <td><input type="text" name="username" value="{{form_username}}"></td>
            </tr>
            <tr>
              <td>Password:</td>
              <td><input type="password" name="password"></td>
            </tr>
            <tr>
              <td><input type="submit" value="Login"></td>
              <td class="invalid_input_msg" style="color:red; display:none;">Invalid username/password</td>
            </tr>
          </table>
        </form>
      </div>
      <div><b>Login securely via</b></div>
      <div style="height:80px; width:280px">
        <!-- <a id="login_handler2" class="landing_login" style="float:left;">Gmail</a> --> 
	<img id="login_handler2" class="landing_login" src="https://developers.google.com/identity/images/btn_google_signin_dark_normal_web.png">
        <a id="login_exchange" class="landing_login" style="float:left;">MS Exchange</a>
        <a id="login_yahoo" class="landing_login" style="float:left;">Yahoo</a>
      </div>
      <div><b>or check out the <a href="/demo">Immersion demo.</a></b></div>
    </div>
    <br style="clear: both;" />
  </div>
  <div style="background-color: white;">
    <div class="landing_slab">
      <div class="landing_header">What is Immersion?</div>
      <div id="about_inner">
        <div class="about_child">It has been almost two decades since the beginning of the web. This means that the web is no longer just a technology of the present, but also, a record of our past. <br><br> Email, one of the original forms of social media, is even older than the web and contains a detailed description of our personal and professional history.</div>
        <div class="about_child" style="border-left: 5px solid black; padding-left: 10px;"><b>Immersion</b> is an invitation to dive into the history of your email life in a platform that offers you the safety of knowing that you can always delete your data.</div>
        <div class="about_child" style="border-left: 5px solid black; padding-left: 10px;">Just like a cubist painting, Immersion presents users with a number of different perspectives of their email data. <br>It provides a tool for self-reflection at a time where the zeitgeist is one of self-promotion. <br>It provides an artistic representation that exists only in the presence of the visitor. <br>It helps explore privacy by showing users data that they have already shared with others. <br>Finally, it presents users wanting to be more strategic with their professional interactions, with a map to plan more effectively who they connect with.</div>
        <div class="about_child">So Immersion is not about one thing. It’s about four. It’s about <b>self-reflection, art, privacy</b> and <b>strategy</b>. It’s about providing users with a number of different perspectives by leveraging on the fact that the web, and emails, are now an important part of our past.</div>
      </div>
    </div>
    <br style="clear: both;" />
  </div>
  <div class="landing_slab">
    <div><img class="logo" src="https://immersion.media.mit.edu/static/images/logo.png"/></div>
    <div class="landing_header">Team</div>
    <div id="team_inner">
      <div class="team_member">
        <div class="memberpic">
          <img class="userpic_circle2" src="/static/images/profile_pics/daniel.png"/>
        </div>
        <div class="membername">Daniel Smilkov</div>
        <div class="memberinfo">
          <i>Interests: <br>Algorithms, Data Analysis, Statistics, Visualization</i><br><br><br>Daniel recently finished his first year as a Master's candidate at the MIT Media Lab. Prior to that, he worked at the Macedonian Academy of Sciences and Arts in the field of network science. <br><br>He likes to pursue his above mentioned research interests by manifesting them within the context of the web.
          <br><br><br>
          <p><a target="_blank" href="http://twitter.com/dsmilkov">@dsmilkov</a>  |  <a target="_blank" href="http://www.linkedin.com/in/dsmilkov">website</a></p>
        </div>
        <br style="clear: both;" />
      </div>
      <div class="team_member">
        <div class="memberpic">
          <img class="userpic_circle2" src="/static/images/profile_pics/deepak.png"/>
        </div>
        <div class="membername">Deepak Jagdish</div>
        <div class="memberinfo">
          <i>Interests: <br>Visualization, Perception, Human Mind</i><br><br><br>After moving from India to pursue a Master's at Georgia Tech, Deepak then built visualizations with large-scale data at Nokia Research Center in California. Now, he calls the Media Lab home.<br><br>He sees himself as a knowledge nomad, and likes to spend his time connecting his learnings from different disciplines.
          <br><br><br>
          <p><a target="_blank" href="http://twitter.com/dj247">@dj247</a>  |  <a target="_blank" href="http://deepakjagdish.com">website</a></p>
        </div>
        <br style="clear: both;" />
      </div>
      <div class="team_member">
        <div class="memberpic">
          <img class="userpic_circle2" src="/static/images/profile_pics/cesar.png"/>
        </div>
        <div class="membername">César Hidalgo</div>
        <div class="memberinfo">
          <i>Interests: <br>Networks, Development, Visualization, Complexity and Cities</i><br><br><br/>César A. Hidalgo is the head of the Macro Connections group at the MIT Media Lab, where he is the Asahi Broadcast Corporation Career Development Professor.<br><br>His work focuses on improving the understanding of systems using and developing concepts of complexity, evolution and network science.
          <br/><br/><br/>
          <p><a target="_blank" href="http://twitter.com/cesifoti">@cesifoti</a>  |  <a target="_blank" href="http://chidalgo.com">website</a></p>
        </div>
        <br style="clear: both;" />
      </div>
      <br><br>
    </div>
    <br style="clear: both;" />
    <div style="margin-bottom: 30px;"> You can reach us via email:<br><br> <b>immersion </b>@ <b>media </b>[dot] <b>mit </b>[dot] <b>edu</b></div>
    </div>
    <div class="landing_slab black_slab">
      <div class="landing_header">Video: Beneath the surface</div>
      <div style="min-height: 400px; margin-top:80px">
        <iframe src="https://player.vimeo.com/video/69464265?title=1&amp;byline=0&amp;portrait=0&amp;badge=0&amp;color=ffffff" width="600" height="350" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
      </div>
    </div>
    <div id="faqs_section" class="landing_slab">
      <div class="landing_header">Frequently Asked Questions</div>
      <div id="about_inner">
        <div class="faq_q">1. What do you mean by 'secure login'? Will Immersion be able to see my password?</div>
        <div class="faq_a">Immersion uses a technology called <a href="http://en.wikipedia.org/wiki/OAuth" target="_blank">OAuth</a> to authorize users via a Google website. The email address and password that you enter is not visible to Immersion since the login page is controlled completely by Google. Once Google verifies your credentials, Immersion is informed about that, and you are then given the choice by Google to allow/deny Immersion access to your email data.</div>

        <div class="faq_q">2. If I grant Immersion access to my Gmail account, what sort of control does Immersion have?</div>
        <div class="faq_a">Any app that you authorize to give access to your Gmail account -- such as an iPhone email client, or Immersion -- has complete control over your email data. There is no protocol available at the moment which allows only for partial-levels of access to email data, but the protocol allows the developers of an app to choose the data they retrieve. This is true for any app (for e.g.: email clients on your mobile phone, desktop, etc.). For more details on the exact data fields that Immersion accesses, see next question.</div>
        <div class="faq_a">By default, once you authorize an app, the next time you log in to use it Google will avoid asking your permission again. Immersion makes this process more secure for you by allowing you to remove the authorization that Google provided us when you log out of Immersion (<a href="https://accounts.google.com/IssuedAuthSubTokens" target="_blank">via this link</a>). Once you delete your metadata and revoke Immersion's access to Gmail, there is no way for Immersion to access your email data until you provide authorization again.</div>

        <div class="faq_q">3. What information from my inbox does Immersion collect?</div>
        <div class="faq_a">To create your visualization Immersion collects only the metadata (<i>From, To, Cc</i> and <i>Timestamp</i>) of emails. Immersion does not access the subject or body of any of your emails. Due to the architecture of the underlying protocol, technically Immersion could access any part of your email, but we chose not to. Once again, this is true of all email clients. Privacy, and users’ ownership of their data, are very important to us, so we've designed Immersion to prioritize the privacy of users and their ability to control their own data.</div>

        <div class="faq_q">4. What are the steps that Immersion has taken to prioritize users' privacy and data security?</div>
        <div class="faq_a">Immersion allows you to delete all your metadata upon logout, and this leaves no trace of your email metadata in our servers. We don't pseudo-delete data by just flagging it as <i>“deleted”</i>, or move your data to another server without your knowledge. We actually remove all the bits of your metadata instantly. <br><br>We also do not share your personal data with any third parties.</div>


        <div class="faq_q">5. What are the benefits of saving my metadata?</div>
        <div class="faq_a">If you decide to save your metadata upon logout, the next time you log in Immersion will not have to go through the metadata fetching process again, and your visualization will load much faster.</div>
        <div class="faq_a">Immersion will also be able to use anonymized metadata to calculate aggregate statistics such as Rankings across different Immersion users who have also saved their metadata -- for instance, how connected you are with respect to the ensemble of Immersion users. Certainly, no personal information of users is revealed in either the calculation or presentation of these statistics.</div>

        <div class="faq_q">6. I have authorized Immersion to access my metadata. But I can't see any visualization. What's happening?</div>
        <div class="faq_a">Well, a number of things could be causing this:</div>
        <div class="faq_a">⚑&nbsp;&nbsp;&nbsp;Are you trying to access this using your phone, or tablet? Immersion is not compatible with all browsers, and the visualization works smoothly on a small number of mobile devices (for instance, it is too complex for the iPhone browser). If your browser is not technically compatible, we suggest you update your browser to the latest version of Google Chrome or Safari.  For technical reasons, Immersion relies on client-side computation for rendering of the data (more secure for the user, and the distributed architecture helps serve more users). That’s why we do not support tablets or phones at the moment.</div>
        <div class="faq_a">⚑&nbsp;&nbsp;&nbsp;The site could be experiencing extremely heavy traffic, and so the metadata collection process is taking very long. You will be notified about this on the page after logging in.</div>
        <div class="faq_a">⚑&nbsp;&nbsp;&nbsp;Try refreshing the page (https://immersion.media.mit.edu/viz) after a few minutes. If the first batch of your metadata has been collected and processed by your browser, the visualization will be rendered using that, and you can refresh the page again later for an updated version when all your metadata has been collected.</div>

        <div class="faq_q">7. The visualization does not show metadata for all my emails. Is there a limit on the number of emails Immersion can process?</div>
        <div class="faq_a">Yes. In order to ensure that our server is not overloaded with data, Immersion has an upper-limit of 300,000 emails per user. We arrived at this number based on alpha testing and user feedback. Also, we need to keep in mind the technical constraints for our server's operation.</div>

        <div class="faq_q">8. Some people that I expect to see in the visualization are not being shown. Why is that?</div>
        <div class="faq_a">Immersion requires a minimum of 3 sent and received emails for a contact to be considered as a collaborator and be part of the visualization. This allows Immersion to filter out entities such as mailing lists, social network notifications, promotional emails, spam, etc. By default, the visualization shows the top one hundred contacts, but you can look at more contacts by using the sliders on the top left of the visualization.</div>
        <div class="faq_a">Also pay special attention to the time-period for which the network is being shown.</div>
        <div class="faq_a">Finally, Immersion tries to guess what addresses belong to which people, since most people tend to have multiple email addresses. In some cases, contacts in your inbox can be confused to be the same person, or to be you :-). You can find this out by hovering over your name, and that of others, in the top-right corner of the visualization. This reveals the list of email addresses that Immersion detected to be associated with that person. We collate addresses for an individual person solely based on the name seen in the emails' metadata, to avoid multiple nodes for the same person appearing in the visualization.</div>

        <div class="faq_q">9. Do you have plans to release the code for this project as open source?</div>
        <div class="faq_a">At the moment, the code for Immersion is still evolving, and we are focusing on providing an error-free experience for the users. In the future, we might release all or some parts of the project under an open source license, but we haven't made a decision about this yet.</div>

        <div class="faq_q">10. Do you have plans to support email providers other than Gmail and Exchange?</div>
        <div class="faq_a">Yes. We are looking into the possibility of adding support for other providers such as Hotmail and Yahoo, and extending Immersion to other social media, such as Twitter. We'll decide on which providers to focus on based on the feedback given by the users and certain technical constraints.</div>

        <div class="faq_q">11. Can I combine multiple accounts into the same visualization? </div>
        <div class="faq_a">In the current version, this is not possible. However, our team is exploring the possibility of adding this feature in a future version. Given that the development team comprises of only two students, we have to prioritize the features that need to be added based on our research schedule :-).</div>
        <div id="gototop"><a id="toplink" href="#top"><u>Return to Top</u> ⇪</a></div>
      </div>
    </div>
    <div id="footer">
      <div id="signoff">&copy; 2013 <a href="http://macroconnections.media.mit.edu">Macro Connections</a>&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;<a href="http://media.mit.edu">MIT Media Lab</a>&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;<a href="https://immersion.media.mit.edu/privacy">Privacy Policy</a></div>
    </div>
</div>

<script type="text/javascript">
  function validateEmail(email) { 
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
} 

  function validateForm(form) {
    var email = $(form).find("input[name='email']").val();
    var username = $(form).find("input[name='username']").val();
    var password = $(form).find("input[name='password']").val();
    if(validateEmail(email) && password.trim() !== '' && username.trim() !== '') {
      return true;
    } else {
      $(".invalid_input_msg").show();
      return false;
    }
  }


  $('#faqs').click(function () {
      $('body,html').animate({
        scrollTop: $("#faqs_section").offset().top
      }, 1000, 'easeOutExpo');
      return false;
    });

  $('#gototop a').click(function () {
      $('body,html').animate({
        scrollTop: 0
      }, 1000, 'easeOutExpo');
      return false;
    });

  var colors = ['#ff7f0e', '#2ca02c' ,'#d62728' ,'#9467bd', '#17becf'];
  var randnum = Math.floor(Math.random()*colors.length);
  $('#landing_circle').css('background-color', colors[randnum]);


  $("#browseralert").hide();
  $("#buttondisablealert").hide();
  var prefix = window.document.location.protocol + '//' + window.document.location.host + '/oauth2callback';
  var authurl = 'https://accounts.google.com/o/oauth2/auth?scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&redirect_uri=' + prefix + '&response_type=code&client_id=xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com&access_type=offline';

  $("#login_exchange").click(function() {
    $("#buttondisablealert").hide();
    $( ".form" ).hide();
    $( "#ews_loginform" ).effect("highlight");
    var email_input = $("input[name='email']");
    var pass_input = $("input[name='password']");
    if (email_input.attr("value") === "") {
      email_input.focus();
    } else {
      pass_input.focus();
    }
  });

  $("#login_yahoo").click(function() {
    $("#buttondisablealert").hide();
    $( ".form" ).hide();
    $( "#yahoo_loginform" ).effect("highlight");
    var email_input = $("input[name='email']");
    var pass_input = $("input[name='password']");
    if (email_input.attr("value") === "") {
      email_input.focus();
    } else {
      pass_input.focus();
    }
  });

  $("#login_handler2").click(function() {
    if(!isMobile()) window.location = authurl.replace(/&amp;/g, '&')
    //if(!isMobile()) $("#buttondisablealert").fadeIn('fast');
    else {
      $("#browseralert").fadeIn('fast');
    }
  });

  function isMobile() {
    var check = false;
    (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);
    return check;
  }
</script>

{% end %}
